/* ---------------------------------- */
/* --- BEKK theme ------------------- */
/* ---------------------------------- */

/* ---------------------------------- */
/* --- Colors ----------------------- */
/* ---------------------------------- */

@black: #000;
@white: #fff;
@red: #FD5158;
@yellow: #FFF9AE;
@green: #36BDB2;
@darkbrown: #6C6559;
@brown: #887E6F;
@lightbrown: #C9C0B5;

/* ---------------------------------- */
/* --- Sizes ------------------------ */
/* ---------------------------------- */

@h1-line-width: 6em;
@circle-size: 170px;

@logo-height: 115px;
@logo-width: 466px;

@round-image-factor: 1/2;
@round-image-height: 864px;
@round-image-width: 866px;

/* ---------------------------------- */
/* --- Useful mixins ---------------- */
/* ---------------------------------- */

.bekk-logo(@factor, @position: center, @type: "") {
  background-image: url("https://github.com/kjbekkelund/remark-bekk/raw/master/lib/images/bekk@{type}.png");
  background-repeat: no-repeat;
  background-position: @position;
  background-size: @logo-width*@factor @logo-height*@factor;
}
.bekk-logo-white(@factor, @position: center) {
  .bekk-logo(@factor, @position, "-white");
}

.centered-image(@height, @width) {
  position: absolute;
  top: 50%;  margin-top: -@height / 2;
  left: 50%; margin-left: -@width / 2;
  height: @height;
}

.rounded-corners(@size: 10px) {
  -moz-border-radius: @size;
  -webkit-border-radius: @size;
  -khtml-border-radius: @size;
  border-radius: @size;
}

/* ---------------------------------- */
/* --- Slideshow styles ------------- */
/* ---------------------------------- */

#slideshow {
  &, &.black {
    .slide {
      color: @white;
      background-color: @black;

      .content {
        li {
          color: @white;
        }
        h1 {
          color: @red;
          &:before {
            border-top-color: @lightbrown;
          }
          > span { background-color: @black; }
        }
        a {
          color: @red;
        }
        code { color: @black; background-color: #FDF6E3; }

        &.cols {
          .col h1 {
            color: @white;
          }
        }

        &.front-page {
          .bekk-logo(1/7, center 30px);

          h1 {
            color: @white;

            &:after {
              border-top-color: @red;
            }
          }

          h2 {
            color: @lightbrown;
          }

          // Maybe we should use a list instead of paragraphs for this
          p {
            color: @lightbrown;
          }
        }

        &.agenda {
          ul {
            li {
              color: @white;
            }
          }
        }
      }
    }
  }
  &.white {
    .slide {
      color: @black;
      background-color: @white;

      .content {
        li {
          color: @black;
        }
        h1 {
          color: @darkbrown;
          &:before {
            border-top-color: @black;
          }
          > span { background-color: @white; }
        }
        a {
          color: @red;
        }
        code { color: @black; background-color: #FDF6E3; }

        &.cols {
          .col h1 {
            color: @black;
          }
        }

        &.front-page {
          .bekk-logo-white(1/7, center 30px);

          h1 {
            color: @black;

            &:after {
              border-top-color: @darkbrown;
            }
          }

          h2 {
            color: @darkbrown;
          }

          // Maybe we should use a list instead of paragraphs for this
          p {
            color: @darkbrown;
          }
        }

        &.agenda {
          ul {
            li {
              color: @black;
            }
          }
        }
      }
    }
  }

  .slide {
    .content {
      padding-bottom: 2em;

      /* ---------------------------------- */
      /* --- General styles --------------- */
      /* ---------------------------------- */

      ul {
        list-style: disc outside;
        padding-left: 1em;
      }
      ol {
        padding-left: 1em;
      }
      li {
        padding: 0.4em 0 0.4em 1em;
      }

      h1 {
        text-transform: uppercase;
        font-weight: normal;
        font-style: italic;
        font-size: 1.5em;
        position: relative;
        z-index: 1;

        &:before {
          border-top-width: 1px;
          border-top-style: solid;
          content: "";
          position: absolute;
          top: 0.6em; left: 0; right: 0; bottom: 0;
          z-index: -1;
        }

        > span { padding: 0 0.6em 0 0; }
        code { text-transform: none; font-style: normal; }
      }

      a {
        text-decoration: none;

        &:hover { text-decoration: underline; }
      }

      code { padding: 3px; font-family: Inconsolata, Consolas, Monaco, monospace; }
      pre code { padding: 1em; .rounded-corners; }

      /* ---------------------------------- */
      /* --- Additional classes ----------- */
      /* ---------------------------------- */

      // Current slide number
      .position { font-size: 0.7em; }

      .circle {
        .rounded-corners(@circle-size / 2);

        height: @circle-size;
        width: @circle-size;
        line-height: @circle-size;
        color: @black;
        text-align: center;
        overflow: hidden;
        display: block;

        &.red    { background-color: @red; }
        &.yellow { background-color: @yellow; }

        &.top-right { position: absolute; top: 3em; right: 3em; }
        &.top-left  { position: absolute; top: 3em; left: 3em;  }

        &.centered { margin: 0 auto; }
      }

      /* ---------------------------------- */
      /* --- Content slides --------------- */
      /* ---------------------------------- */

      &.middle h1:before,
      &.center h1:before { border: none; }

      &.cols {
        .col {
          h1 {
            font-size: 1.1em;
            text-transform: none;
            font-style: normal;
          }

          float: left; margin-right: 2%;
          &:last-child { margin-right: 0;}
        }

        &.two   { .col { width: 49%; } }
        &.three { .col { width: 32%; } }
      }

      &.front-page {
        text-align: center;
        font-style: italic;
        vertical-align: bottom;

        h1 {
          position: relative;
          z-index: 1;
          margin: 0 auto 3.2em auto;
          width: 16em;

          &:before { border: none; }

          &:after {
            border-top-width: 4px;
            border-top-style: solid;
            position: absolute;
            left: 50%;
            bottom: -1.6em;
            content: "";
            width: @h1-line-width;
            margin-left: -(@h1-line-width / 2);
            z-index: -1;
          }
        }

        h2 {
          height: 3em;
          font-size: 1em;
          font-weight: normal;
          margin: 2em auto 2em auto;
          max-width: 25em;
        }

        // Maybe we should use a list instead of paragraphs for this
        p {
          font-size: 0.7em;
          margin: 0.3em 0;
        }

        // Do not display current slide on the front page
        .position { display: none; }
      }

      &.agenda {
        ul {
          list-style-type: none;
          padding-left: 0;
          bottom: 1em;
          position: absolute;

          li {
            text-transform: uppercase;
            padding: 1em 0;
            font-weight: normal;
          }
        }
      }

      &.round img {
        @height: @round-image-height * @round-image-factor;
        @width: @round-image-width   * @round-image-factor;

        .centered-image(@height, @width);
      }

      &.pushed {
        h1 { margin-top: 17em; }

        .img {
          position: absolute;
          top: 2em; right: 2em; bottom: 8.5em; left: 2em;
          overflow: hidden;

          img {
            width: 100%;
          }
        }
      }
    }
  }
}
